:root{
  --bg:#0b0f14; --panel:#11161e; --muted:#758199; --text:#e6edf7; --accent:#60a5fa;
  --ring:#1f2937; --good:#34d399; --bad:#f87171; --chip:#1f2937; --base-font:16px;
}

/* base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg); color:var(--text);
  font-size:calc(var(--base-font) * 1.05);
}

/* utilities */
.hidden{display:none !important}
.max-w-7xl{max-width:80rem} .mx-auto{margin-left:auto;margin-right:auto}
.p-4{padding:1rem} .md\:p-6{padding:1.5rem} .pt-3{padding-top:.75rem} .pt-4{padding-top:1rem}
.space-y-1>*+*{margin-top:.25rem}
.space-y-2>*+*{margin-top:.5rem}
.space-y-3>*+*{margin-top:.75rem}
.space-y-4>*+*{margin-top:1rem}
.space-y-5>*+*{margin-top:1.25rem}
.gap-2{gap:.5rem} .gap-3{gap:.75rem} .gap-4{gap:1rem}
.flex{display:flex} .inline-flex{display:inline-flex}
.items-center{align-items:center} .justify-between{justify-content:space-between}
.grid{display:grid} .grid-cols-1{grid-template-columns:1fr}
@media(min-width:768px){.md\:grid-cols-3{grid-template-columns:repeat(3,1fr)}}
@media(min-width:1024px){.lg\:grid-cols-3{grid-template-columns:repeat(3,1fr)} .lg\:col-span-2{grid-column:span 2 / span 2}}
.text-xs{font-size:.75rem} .text-sm{font-size:.875rem} .text-lg{font-size:1.125rem}
.text-xl{font-size:1.35rem} .text-2xl{font-size:1.5rem} .md\:text-3xl{font-size:1.875rem}
.font-semibold{font-weight:600} .font-bold{font-weight:700} .font-extrabold{font-weight:800}
.tracking-tight{letter-spacing:-.01em}
.text-slate-300{color:#cbd5e1} .text-slate-400{color:#94a3b8}
.kbd{font-family:ui-monospace,Menlo,monospace;background:#0b1220;border:1px solid #253042;border-radius:6px;padding:2px 6px;color:#9ca3af}

/* components */
.card{background:var(--panel);border:1px solid #1e293b;border-radius:16px;padding:16px}
.metric{background:#0e1622;border:1px dashed #1f2a3b;border-radius:14px;padding:10px 12px}
.label{color:var(--muted);font-size:.8rem;text-transform:uppercase;letter-spacing:.04em}

.vchip{display:inline-flex;align-items:center;gap:6px;background:var(--chip);
  border:1px solid #2a3445;border-radius:999px;padding:4px 10px;font-size:.8rem;color:#cbd5e1}
.legend-dot{display:inline-block;width:10px;height:10px;border-radius:2px;margin-right:6px}

.select,
.field input[type="text"],
.field input[type="number"]{
  width:100%;
  background:#0b1324;
  border:1px solid #22304a;
  border-radius:10px;
  padding:.65rem .75rem;
  color:#e5e7eb;
}

.grid-cols-form{grid-template-columns: 1fr minmax(220px, 460px)}

.field{
  position:relative;
  display:flex;
  flex-direction:column; /* important so slider stacks below text input */
  gap:.4rem;
  width:100%;
}
.field.money>input[type="text"]{
  padding-left:1.65rem;
  text-align:right;
  font-variant-numeric: tabular-nums;
}
.field.money::before{
  content:'$';
  position:absolute;
  top:14px; left:.6rem;
  color:#94a3b8; pointer-events:none;
}

/* sliders â€” single source of truth */
.range{
  appearance:none;
  width:100%;
  height:8px;                /* keep visible */
  border-radius:999px;
  background:#253042;
  outline:none;
  margin-top:6px;
  accent-color:#60a5fa;
}
.range::-webkit-slider-thumb{
  appearance:none;
  height:18px;width:18px;border-radius:50%;
  background:#60a5fa;border:3px solid #0b0f14;
  box-shadow:0 0 0 4px rgba(96,165,250,.25)
}
.range::-moz-range-thumb{
  height:18px;width:18px;border-radius:50%;
  background:#60a5fa;border:3px solid #0b0f14;
  box-shadow:0 0 0 4px rgba(96,165,250,.25)
}

/* buttons & pills */
.btn{ background:#0b1324; border:1px solid #22304a; border-radius:10px; padding:.55rem .8rem; color:#e5e7eb; font-weight:600; cursor:pointer; }
.btn-primary{ background:#1e3a8a; border-color:#3756c2; color:#fff; }
.btn-ghost{ background:transparent; border-color:#22304a; color:#94a3b8; }
.pill{ display:inline-flex; align-items:center; gap:.35rem; padding:.25rem .55rem; border:1px solid #22304a; border-radius:999px; }
.pill.delta{ background:#0c152a; }

/* Waterfall */
.bar{ position:relative; background:#0b1324; border:1px solid #22304a; border-radius:12px; overflow:hidden; min-height:42px; }
.bar-muted{ opacity:.85; }
.bar-fill{ position:absolute; top:0; left:0; bottom:0; background:linear-gradient(90deg,#22d3ee,#60a5fa,#a78bfa); opacity:.35; }
.bar-inner{ position:relative; display:flex; align-items:center; justify-content:space-between; padding:.75rem; }

/* Switch */
.switch{ display:flex; align-items:center; gap:.5rem; font-size:.95rem; color:#cbd5e1; }
.switch input{ transform:translateY(1px); }

/* Number % suffix */
.field .suffix{ position:absolute; right:.65rem; top:50%; transform:translateY(-50%); color:#94a3b8; }

/* responsive bump */
@media (min-width:768px){
  body{ font-size: calc(var(--base-font) * 1.1); }
}
